<!DOCTYPE html>
<html>

<head>
	<meta charset=utf-8>
	<title></title>
	
	<style>
		@import url(css/reset.css);
		
		body {
			font: 12px/20px arial, sans-serif;
		}
		ul li {
			list-style: circle;
			margin: 0 0 0 25px;
		}
		ul ul li {
			color: hotpink;
			margin: 0 0 0 45px;
		}
	</style>
	
	<script src="js/jquery-1.5.1.min.js"></script>
	
	<script>
	$(window).ready(function() {
		/*
		if (localStorage.getItem('demoEdit')) {
			$('#meh').html(localStorage.getItem('demoEdit'));
		}
		*/
		
		$('#meh').live('keyup', function(test) {
			// localStorage.setItem('demoEdit', this.innerHTML
			$('#test').append(test.keyCode + " - ");
		})
		
		
		// prevent line-break
		$('#editField').keypress(function(event) {
			if (event.keyCode == 13) {
				return event.which != 13;
			}
		});

		// store edited text
		if (localStorage.getItem('editField')) {
			$('#editField').html(localStorage.getItem('editField'));
		}

		$('#editField').live('keyup', function() {
			localStorage.setItem('editField', this.innerHTML);
		});
		
	})
	
	var test = function() {
		localStorage.removeItem('editField');
		$('#editField').html(localStorage.getItem('editField'));
	}
	</script>
	
</head>

<body>

	<header></header>
	
	<nav></nav>
	
	<input type="text" id="meh">
	<div id="test"></div>
	<div id="editField">
		<ul>
			<li contenteditable="true">Dette er demosak 1</li>
			<ul>
				<li contenteditable="true">Dette er demosak 2</li>
			</ul>
		</ul>
	</div>
	<input type="submit" value="Reset stored text" onclick="test()">
	<footer></footer>
</body>

</html>